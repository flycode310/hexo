---
title: raft
date: 2019-07-22 10:43:10
tags:
---



1. Leader选举（Leader election）
2. 日志同步（Log replication）
3. 安全性（Safety）
4. 日志压缩（Log compaction）
5. 成员变更（Membership change）

<!-- more -->

Raft将系统中的角色分为领导者（Leader）、跟从者（Follower）和候选人（Candidate）

-  Leader: 接受客户端的请求，向Follower同步请求日志，日志同步到大多数节点上后告诉Follower提交日志
- Follower：接受并持久化Leader同步的日志，在Leader告之日志可以提交后，提交日志
- Candidate：Leader选举过程中的临时角色

```mermaid
graph TD
	A[client]
	B[leader]
	C[follower]
	D[follower]
	A -- send command --> B
	B -.-> C
	B -.-> D
```

Reference:

[Paxo、Raft分布式一致性最佳实践](https://zhuanlan.zhihu.com/p/32052223)

[mermaid](https://mermaidjs.github.io/#/)

